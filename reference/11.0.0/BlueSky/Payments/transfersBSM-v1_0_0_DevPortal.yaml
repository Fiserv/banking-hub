openapi: 3.0.0

info:
  title: Transfers
  contact:
    name: Fabiola Vogel
    email: fabiola.vogel@fiserv.com
  version: 1.0.0
  description: >-
    The Transfers Service supports operations to add, update and retrieve transfer fund instructions.  A transfer fund instruction describes the movement of monetary funds from one account to another. Fund transfer instructions may be specified as one time or as a recurring action. This service does not support the immediate delivery of funds (see Transactions Service)
servers:
  # Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://swaggerhub.onefiserv.net/virts/Bank_Sol_Org/transfersBSM/1.0.0
  - description: SwaggerHub API Auto Mocking
    url: http://swaggerhub.onefiserv.net/virts/Bank_Sol_Org/transfersBSM/0.0.5
paths:
  /transfers/v1:
    parameters:
      - name: Fiserv-OrganizationId
        in: header
        required: true
        schema:
          $ref: '#/components/schemas/Fiserv-OrganizationId'
      - name: Fiserv-TransactionId
        in: header
        required: true
        schema:
          $ref: '#/components/schemas/Fiserv-TransactionId'
      - name: Fiserv-ClientApplicationName
        in: header
        required: true
        schema:
          $ref: '#/components/schemas/Fiserv-ClientApplicationName'
      - name: Fiserv-Channel
        in: header
        required: true
        schema:
          $ref: '#/components/schemas/Fiserv-Channel'
      - name: Fiserv-ClientDateTime
        in: header
        required: true
        schema:
          $ref: '#/components/schemas/Fiserv-ClientDateTime'
      - name: Fiserv-VendorId
        in: header
        required: true
        schema:
          $ref: '#/components/schemas/Fiserv-VendorId'
    post:
      tags:
        - Add Transfer Fund Instruction
      x-group-name: Transfers Service
      x-proxy-name: Add Transfer Fund Instruction
      x-child-product-name: ["Leve","Payments"]
      operationId: addTransfer
      description: >-
          Adds a transfer fund instruction
      requestBody:
        description: Transfer
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddTransferRequest'
      responses: 
        "201":
          description: Created
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/AddTransferResponse'
    
        default: 
          description: "Unexpected error"
          content:
            application/json:
              schema: 
                 $ref: '#/components/schemas/ErrorResponse'
  /transfers/v1/{transferId}:
    parameters:
      - name: transferId
        in: path
        required: true
        schema:
          type: string
        description: >-
            Generic value associated with the identifier associated with a single transfer fund instruction
        examples:
          Sample:
            value: "F17AA97E-4281-4E94-B045-BC0637D91C92"
      - name: Fiserv-OrganizationId
        in: header
        required: true
        schema:
          $ref: '#/components/schemas/Fiserv-OrganizationId'
      - name: Fiserv-TransactionId
        in: header
        required: true
        schema:
          $ref: '#/components/schemas/Fiserv-TransactionId'
      - name: Fiserv-ClientApplicationName
        in: header
        required: true
        schema:
          $ref: '#/components/schemas/Fiserv-ClientApplicationName'
      - name: Fiserv-Channel
        in: header
        required: true
        schema:
          $ref: '#/components/schemas/Fiserv-Channel'
      - name: Fiserv-ClientDateTime
        in: header
        required: true
        schema:
          $ref: '#/components/schemas/Fiserv-ClientDateTime'
      - name: Fiserv-VendorId
        in: header
        required: true
        schema:
          $ref: '#/components/schemas/Fiserv-VendorId'
    get:
      tags:
        - Get Transfer Fund Instruction Details
      x-group-name: Transfers Service
      x-proxy-name: Get Transfer Fund Instruction Details
      x-child-product-name: ["Leve","Payments"]
      operationId: getTransfer
      description: "Retrieves transfer fund details associated with a transfer instruction"
      responses: 
        "200":
          description: Ok
          content:
            application/json:
              schema:
                 $ref: '#/components/schemas/GetTransferResponse'
        default: 
          description: "Unexpected error"
          content:
            application/json:
              schema: 
                 $ref: '#/components/schemas/ErrorResponse'
    patch:
      description: >-
          Updates a transfer fund instruction
      tags:
        - Update Transfer Fund Instruction
      x-group-name: Transfers Service
      x-proxy-name: Update Transfer Fund Instruction
      x-child-product-name: ["Leve","Payments"]
      operationId: updateTransfer
      requestBody:
        description: Update transfer
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTransferRequest'
      responses: 
        "200":
          description: Ok
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/UpdateTransferResponse'
        default: 
          description: "Unexpected error"
          content:
            application/json:
              schema: 
                 $ref: '#/components/schemas/ErrorResponse'
    delete:
      tags:
        - Delete Transfer Fund Instruction
      x-group-name: Transfers Service
      x-proxy-name: Delete Transfer Fund Instruction
      x-child-product-name: ["Leve","Payments"]
      operationId: deleteTransfer
      description: >-
          Deletes a transfer fund instruction
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteTransferResponse'
        default: 
          description: "Unexpected error"
          content:
            application/json:
              schema: 
                 $ref: '#/components/schemas/ErrorResponse'
components:
  schemas:
    Fiserv-OrganizationId: 
      type: string
      description: >-
        Organization Identifier is a unique ID that represents the financial institution 
        or holding company.  This ID does not necessarily match the Org ID or Bank ID in 
        the backend system.  To ensure uniqueness across all institutions in all parts 
        of the world, use the Dun and Bradstreet number.
    Fiserv-TransactionId:
      type: string
      description: >-
        Transaction Identifier. This is the transaction UUID of the current 
        message.
    Fiserv-ClientApplicationName:
      type: string
      description: >-
        Name of the application making the service request (e.g. Architect, 
        Commercial Center, etc.).
    Fiserv-Channel:
      type: string
      description: >-
        Indicates the channel used by the client application.
    Fiserv-ClientDateTime:
      type: string
      description: >-
        Client date and time as reported by the client application that is 
        making the service request.
    Fiserv-VendorId:
      type: string
      description: >-
        An identifier, supplied by Fiserv, that represents the vendor using 
        this API service.   
  
    AccountDetailType:
      title: AccountDetailType
      type: string
      description: >-
          Detail type of account
      enum:
        - Brokerage
        - CertificateOfDeposit
        - Checking
        - Club
        - Commercial
        - Construction
        - Consumer
        - CreditCard
        - DemandDepositLoan
        - Escrow
        - FlexibleSpending
        - FloorPlan
        - HealthSavings
        - HomeEquity
        - HomeEquityLineOfCredit
        - Installment
        - Lease
        - LineOfCredit
        - Loan
        - MoneyMarket
        - Mortgage
        - Passbook
        - Personal 
        - PortfolioRelationship
        - Retirement
        - Savings
        - ShareDraft
        - Student
    
   
    AccountRef:
      title: AccountRef
      type: object
      required:
        - id
        - number
        - detailType
      properties:
        id:
          type: string
          description: >-
              Generic identifier that contains no sensitive data and should be 
              utilized as the key within URI when performing RESTful operations
        detailType:
          $ref: '#/components/schemas/AccountDetailType'
        number:
          type: string
          description: >-
              Actual account number as defined by the bank or credit union
        organization:
          $ref: '#/components/schemas/Organization'

    AccountReferenceAdd:
      title: AccountReferenceAdd
      type: object
      properties:
        id:
          type: string
          description: >-
              Generic identifier that contains no sensitive data and should be 
              utilized as the key within URI when performing RESTful operations
        detailType:
          $ref: '#/components/schemas/AccountDetailType'
        number:
          type: string
          description: >-
              Actual account number as defined by the bank or credit union
        organization:
          $ref: '#/components/schemas/Organization'
          
    AccountReferenceUpdate:
      title: AccountReferenceUpdate
      type: object
      properties:
        id:
          type: string
          description: >-
              Generic identifier that contains no sensitive data and should be 
              utilized as the key within URI when performing RESTful operations
        detailType:
          $ref: '#/components/schemas/AccountDetailType'
        number:
          type: string
          description: >-
              Actual account number as defined by the bank or credit union
        organization:
          $ref: '#/components/schemas/Organization'

    AddTransferRequest:
      title: AddTransferRequest
      type: object
      required:
        - type
        - detailType
        - fromAccount
        - toAccount
        - amount
        - currencyCode
      properties:
        type:
          type: string
          enum:
            - Payment
            - Standard
          description: >-
            Specifies if the transfer is used for loan payment or refers to standard fund transfer
        detailType:
          type: string
          enum:
            - InterestOnly
            - PrincipalOnly
            - EscrowOnly
            - InsuranceOnly
            - LateChargeOnly
            - Regular
            - Payoff
            - AmountDue
          description: >-
            Specifies the how the transfer amount is applied to the account. This value applies typically to loan products
        description:
          type: string
          description: >-
              Description of the transaction
        amount:
          type: number
          format: currency
          description: >-
              Monetary amount of the transaction
        currencyCode:
          type: string
          description: >-
              Value identifiying which currency the amounts and balances are expressed in.  Value is ISO 4217 currency code, eg USD, EUR,CHF
        fromAccount:
           $ref: '#/components/schemas/AccountReferenceAdd'
        toAccount:
           $ref: '#/components/schemas/AccountReferenceAdd'
    
        nextTransferDate:
          type: string
          format: date
          description: >-
              Date when the transfer fund will be posted. 
        recurring:
            $ref: '#/components/schemas/Recurring'
            
    AddTransferResponse:
      title: AddTransferResponse
      type: object
      properties:
        messages: 
          type: array
          description: >-
              More than one error, warning or informational messages may be
              returned in the response.
          items:
            $ref: '#/components/schemas/Message'
    
        transfer:
            $ref: '#/components/schemas/TransferResult'
            
    DeleteTransferResponse:
      title: DeleteTransferResponse
      type: object
      properties:
        messages: 
          type: array
          description: >-
              More than one error, warning or informational messages may be
              returned in the response.
          items:
            $ref: '#/components/schemas/Message'
  
    ErrorResponse:
      title: ErrorResponse
      type: object
      properties:
        messages: 
          type: array
          description: >-
              More than one error, warning or informational messages may be
              returned in the response.
          items:
            $ref: '#/components/schemas/Message'
    
            

    GetTransferResponse:
      title: GetTransferResponse
      type: object
      properties:
        messages: 
          type: array
          description: >-
              More than one error, warning or informational messages may be
              returned in the response.
          items:
            $ref: '#/components/schemas/Message'
     
        transfer:
          $ref: '#/components/schemas/Transfer' 
    
        
    Message:
      title: Message
      required:
        - type
        - title
      type: object
      properties:
        type:
          type: string
          description: >-
              A URI reference [RFC3986] that identifies the problem type
        title:
          type: string 
          description: >-
              A short human-readable summary of the problem type
        detail:
          type: string
          description: >-
              A human-readable description of the specific error  
        instance:
          type: string
          description: >-
              This optional key may be present, with a unique URI for the specific error; this will often point to an error log for that specific response.
 
    Transfer:
      title: Transfer
      type: object
      required:
        - fromAccount
        - toAccount
        - amount
        - currencyCode
        - status
        - type
        - detailType
      properties:
        type:
          type: string
          enum:
            - Payment
            - Standard
          description: >-
            Specifies if the transfer is used for loan payment or refers to standard fund transfer
        detailType:
          type: string
          enum:
            - InterestOnly
            - PrincipalOnly
            - EscrowOnly
            - InsuranceOnly
            - LateChargeOnly
            - Regular
            - Payoff
            - AmountDue
          description: >-
            Specifies the how the transfer amount is applied to the account.  
        description:
          type: string
          description: >-
              Description of the transaction
        amount:
          type: number
          format: currency
          description: >-
              Monetary amount of the transaction
        currencyCode:
          type: string
          description: >-
              Value identifiying which currency the amounts and balances are expressed in.  Value is ISO 4217 currency code, eg USD, EUR,CHF
        status:
          type: string
          description: >-
            Indicates the status of the transfer fund instruction
          enum:
            - Active
            - Inactive
            - Hold
        fromAccount:
           $ref: '#/components/schemas/AccountRef'
        toAccount:
           $ref: '#/components/schemas/AccountRef'
   
        nextTransferDate:
          type: string
          format: date
          description: >-
              Date when the transfer fund will be posted. 
        lastTransferDateTime:
          type: string
          format: date-time
          description: >-
              Date and time when the transfer fund was last posted
        lastTransferAmount:
          type: number
          format: currency
          description: >-
              Amount of the transfer fund last posted
        recurring:
            $ref: '#/components/schemas/RecurringDetail'
      
  
    TransferResult:
      title: TransferResult
      type: object
      required:
        - id
      properties:
        id:
          type: string
          description: >-
              Generic identifier of the transfer fund instruction that contains no sensitive data and should be
              utilized as the key within URI when performing RESTful operations
        nextTransferDate:
          type: string
          format: date
          description: >-
              Date when the transfer fund will be posted. 
 
    Organization:
      title: Organization
      type: object
      required:
        - type
        - value
      properties:
        type:
          type: string
          description: >-
              Type of organization value being described
          enum:
            - ABA
            - DUNS           
            - Fiserv
        value:
          type: string
          description: >-
              Value that identifies the financial institution  
   
          
          
    Recurring:
      title: Recurring
      allOf:  
        - $ref: '#/components/schemas/RecurringBasic'
        - type: object
          properties:
            endDate:
              type: string
              format: date
              description: >-
                Indicates the date of the end of the recurring period  
    RecurringDetail:
      title: RecurringDetail
      allOf:  
        - $ref: '#/components/schemas/RecurringBasic'
        - type: object
          properties:
            startDate:
              type: string
              format: date
              description: >-
                Indicates the date the recurring period starts
            endDate:
              type: string
              format: date
              description: >-
                Indicates the date of the end of the recurring period              
    RecurringBasic:
      title: Recurring
      type: object
      description: >-
          Recurring indicates the time frame and frequency of the transfer fund instruction
      required:
        - frequency
        - code
        - interval
      properties:
        code:
          type: string
          description: >-
              Code that represents the recurrency model in the Catalog for transfer options
        description:
          type: string
          description: >-
              Description of the recurrency model defined in the Catalog for transfer options
        frequency:
          type: string
          description: >-
              Indicates the pattern of recurrence. In combination with the interval describes the period of time lapsing between each fund transfer
          enum:
            - Daily
            - Weekly
            - TwiceMonthly
            - Monthly
            - Annually
        interval:
          type: integer
          description:  
              "Number of units between occurrences. If  ‘Daily’: Number of days between occurrences. If   ‘Weekly’: Number of weeks between occurrences. If   'Monthly’: Number of months between occurrences. If   ‘Annually’: Number of years between occurrences. The value for TwiceMonthly is always represented with 1- one interval"
        dayOfWeek:
          type: string
          enum:
            - Monday
            - Tuesday
            - Wednesday
            - Thursday
            - Friday
            - Saturday
            - Sunday
          description:  
              "Specifies day of week of occurrence, for example: Monday, Tuesday,.etc."
        dayOfMonth:
          type: integer
          minimum: 1
          maximum: 31
          description: >-
              Numeric value representing the day of the month of occurrence
        secondDayOfMonth:
          type: integer
          minimum: 1
          maximum: 31
          description: >-
              Numeric value representing the second day of the month of occurrence. This is used for TwiceMonthly recurring models
        month:
          type: integer
          minimum: 1
          maximum: 12
          description: 
              "Numeric value representing the month of occurrence. Valid values: integers between 1 and 12 inclusive"
         
        weekOfMonth:
          type: integer
          minimum: 1
          maximum: 5
          description:  
              "Numeric value represents the week of the month of occurrence. Values range from 1 thru 5. Value 5 indicates last week of the month"
        secondWeekOfMonth:
          type: integer
          minimum: 1
          maximum: 5
          description:  
              "Numeric value represents the second week of the month occurrence. Values range from 1 thru 5. Value 5 indicates last week of the month. This is used for TwiceMonthly recurring models"
    UpdateTransferRequest:
      title: UpdateTransferRequest
      type: object
      properties:
        type:
          type: string
          enum:
            - Payment
            - Standard
          description: >-
            Specifies if the transfer is used for loan payment or refers to standard fund transfer
        detailType:
          type: string
          enum:
            - InterestOnly
            - PrincipalOnly
            - EscrowOnly
            - InsuranceOnly
            - LateChargeOnly
            - Regular
            - Payoff
            - AmountDue
          description: >-
            Specifies the how the transfer amount is applied to the account. This value applies typically to loan products
        description:
          type: string
          description: >-
              Description of the transaction
        amount:
          type: number
          format: currency
          description: >-
              Monetary amount of the transaction
        currencyCode:
          type: string
          description: >-
              Value identifiying which currency the amounts and balances are expressed in.  Value is ISO 4217 currency code, eg USD
        status:
          type: string
          description: >-
            Indicates the status of the transfer fund instruction
          enum:
            - Active
            - Inactive
            - Hold
        fromAccount:
           $ref: '#/components/schemas/AccountReferenceUpdate'
        toAccount:
           $ref: '#/components/schemas/AccountReferenceUpdate'
        nextTransferDate:
          type: string
          format: date
          description: >-
              Date when the transfer fund will be posted.  
        recurring:
            $ref: '#/components/schemas/Recurring'
    UpdateTransferResponse:
      title: UpdateTransferResponse
      type: object
      properties:
        messages: 
          type: array
          description: >-
              More than one error, warning or informational messages may be
              returned in the response.
          items:
            $ref: '#/components/schemas/Message'
