---
openapi: 3.0.0
info:
  title: Notifications and Preferences API
  description: Registration services to onboard users and preferences allowing them to receive transactional and security notifications in their email, SMS and push channels.
  contact:
    name: Todd Lupiani
    email: todd.lupiani@fiserv.com
  version: 11.0.0
servers:
- url: //openbanking-uat-alerthub.apps.fog.onefiserv.net/
paths:
  /openbanking/api/v{version}/history/{userId}:
    get:
      tags:
      - History
      summary: Get History.
      description: "Retrieves alert history of an enrolled user for a specified date range. Alert History record comprises of date/time, type of alert and the delivery end point the alert was sent. <br> <b>Note:</b> User refers to the customers enrolled by the financial institution for alerts service offered under Notifi. <br> For more information about the Notifications and Preferences domain <a href=\"../docs/?path=docs/fintechs/notifi.md\" title=\"Click to open\">click here.</a> <br> <b>Note:</b> API testing for this API is currently not available. However, you can still view the sample response payload by clicking the <b>Response Schema</b> tab below. <br><br> <i>This API is applicable only for the Notifi product provided by Fiserv</i> <br><br> <b>Relates to:</b>\n  <ul> \n    <li><a href=\"../docs/?path=docs/banks-and-CU/cash-mgt.md\">Cash Management</a></li>\n    <li><a href=\"../docs/?path=docs/banks-and-CU/treasury-services.md\">Treasury Services</a></li>\n  </ul>"
      operationId: RetrieveHistory
      parameters:
      - name: userId
        in: path
        description: Unique identification number of a user.
        required: true
        style: simple
        explode: false
        schema:
          type: integer
          format: int64
          example: 418555
      - name: start
        in: query
        description: Start date and time range to retrieve the alert records delivered to a user.
        required: false
        style: form
        explode: true
        schema:
          type: string
          format: date-time
          example: 2021-12-31T23:11:32.0643595Z
      - name: end
        in: query
        description: End date and time range to retrieve the alert records delivered to a user.
        required: false
        style: form
        explode: true
        schema:
          type: string
          format: date-time
          example: 2021-12-31T23:11:32.0643595Z
      - name: version
        in: path
        description: Version of API.<br> The default version is 1.0
        required: true
        style: simple
        explode: false
        schema:
          type: string
          example: "1.0"
          default: "1.0"
      - name: Authorization
        in: header
        description: Access token to securely access the Notifi APIs. To generate the access token, refer to <a href="?type=post&path=/openbanking/api/v{version}/token" title="Click to open">Generate Token</a> API. <br><br> <b>Note:</b> Access token should be inserted in "Bearer<space>{access token value}" format.
        required: false
        style: simple
        explode: false
        schema:
          type: string
          example: Bearer eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoiSm9lIENvZGVyIn0.5dlp7GmziL2QS06sZgK4mtaqv0_xX4oFUuTDh1zHK4U
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/History'
              examples:
                Sample Banking:
                  $ref: '#/components/examples/GetHistoryExampleRs'
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "404":
          description: Not Found
        "502":
          description: Server Error
        "504":
          description: Server Error
      x-group-name: History
      x-proxy-name: Get History
      x-child-product-name: Notifications and Preferences
  /openbanking/api/v{version}/tenants/{organizationId}:
    get:
      tags:
      - Tenants
      summary: Get Tenant.
      description: "Retrieves the details of tenant associated to an organization. Tenant represents the financial institution integrated with Notifi Alerts service.<br> For more information about the Notifications and Preferences domain <a href=\"../docs/?path=docs/fintechs/notifi.md\" title=\"Click to open\">click here.</a><br> <b>Note:</b> API testing for this API is currently not available. However, you can still view the sample response payload by clicking the <b>Response Schema</b> tab below. <br><br> <i>This API is applicable only for the Notifi product provided by Fiserv</i> <br><br> <b>Relates to:</b>\n  <ul> \n    <li><a href=\"../docs/?path=docs/banks-and-CU/cash-mgt.md\">Cash Management</a></li>\n    <li><a href=\"../docs/?path=docs/banks-and-CU/treasury-services.md\">Treasury Services</a></li>\n  </ul>"
      operationId: RetrieveOrganization
      parameters:
      - name: organizationId
        in: path
        description: Unique identification of the organization.<br><br> <b>Note:</b> Organization ID is provided once the client is onboarded to Notifi Alerts service.
        required: true
        style: simple
        explode: false
        schema:
          type: string
          example: NewFz1888
      - name: version
        in: path
        description: Version of API <br> The default version is 1.0
        required: true
        style: simple
        explode: false
        schema:
          type: string
          example: "1.0"
          default: "1.0"
      - name: Authorization
        in: header
        description: Access token to securely access the Notifi APIs. To generate the access token, refer to <a href="?type=post&path=/openbanking/api/v{version}/token" title="Click to open">Generate Token</a> API. <br><br> <b>Note:</b> Access token should be inserted in "Bearer<space>{access token value}" format.
        required: false
        style: simple
        explode: false
        schema:
          type: string
          example: Bearer eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoiSm9lIENvZGVyIn0.5dlp7GmziL2QS06sZgK4mtaqv0_xX4oFUuTDh1zHK4U
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tenant'
              examples:
                Sample Banking:
                  $ref: '#/components/examples/GetTenantExampleRs'
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "404":
          description: Not Found
        "502":
          description: Server Error
        "504":
          description: Server Error
      x-group-name: Tenants
      x-proxy-name: Get Tenant
      x-child-product-name: Notifications and Preferences
  /openbanking/api/v{version}/token:
    post:
      tags:
      - Token
      summary: Generate Token.
      description: "Generates a security token using client ID and secret for a scoped organization. Token is used to access the Notifi Alerts service. A generated token is valid for defined amount of time, token can be reused until it expires. The default token expiration time is set to 60 mins and can be changed. <br> Client ID, Organization ID and Client Secret key are provided when an organization is onboarded to Notifi Alerts service.<br> For more information about the Notifications and Preferences domain <a href=\"../docs/?path=docs/fintechs/notifi.md\" title=\"Click to open\">click here.</a> <br> <b>Note:</b> API testing for this API is currently not available. However, you can still view the sample response payload by clicking the <b>Response Schema</b> tab below. <br><br> <i>This API is applicable only for the Notifi product provided by Fiserv</i> <br><br> <b>Relates to:</b>\n  <ul> \n    <li><a href=\"../docs/?path=docs/banks-and-CU/cash-mgt.md\">Cash Management</a></li>\n    <li><a href=\"../docs/?path=docs/banks-and-CU/treasury-services.md\">Treasury Services</a></li>\n  </ul>"
      operationId: GenerateToken
      parameters:
      - name: clientId
        in: query
        description: Unique identification of a client for which a token is to be generated
        required: false
        style: form
        explode: true
        schema:
          type: string
          example: autoclientsuper
      - name: clientSecret
        in: query
        description: Secret key provided after the client is onboarded
        required: false
        style: form
        explode: true
        schema:
          type: string
          example: s5d4s5d7gfs587sdf4sddsf4
      - name: organizationId
        in: query
        description: Identifier of an organization to which the client belongs
        required: false
        style: form
        explode: true
        schema:
          type: string
          example: NewFz1888
      - name: version
        in: path
        description: Version of API <br> The default version is 1.0
        required: true
        style: simple
        explode: false
        schema:
          type: string
          example: "1.0"
          default: "1.0"
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Token'
              examples:
                Sample Banking:
                  $ref: '#/components/examples/GetTokenExampleRs'
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "404":
          description: Not Found
        "502":
          description: Server Error
        "504":
          description: Server Error
      x-group-name: Token
      x-proxy-name: Generate Token
      x-child-product-name: Notifications and Preferences
  /openbanking/api/v{version}/users/{userId}:
    get:
      tags:
      - Users
      summary: Get User.
      description: "Retrieves the details of user enrolled with Notifi using the User ID. User refers to the customers enrolled by the financial institution for alerts service offered under Notifi. <br> For more information about the Notifications and Preferences domain, <a href=\"../docs/?path=docs/fintechs/notifi.md\" title=\"Click to open\">click here.</a> <br> <b>Note:</b> API testing for this API is currently not available. However, you can still view the sample response payload by clicking the <b>Response Schema</b> tab below. <br><br> <i>This API is applicable only for the Notifi product provided by Fiserv</i> <br><br> <b>Relates to:</b>\n  <ul> \n    <li><a href=\"../docs/?path=docs/banks-and-CU/cash-mgt.md\">Cash Management</a></li>\n    <li><a href=\"../docs/?path=docs/banks-and-CU/treasury-services.md\">Treasury Services</a></li>\n  </ul>"
      operationId: RetrieveUser
      parameters:
      - name: userId
        in: path
        description: Identifier number of the user enrolled with Notifi
        required: true
        style: simple
        explode: false
        schema:
          type: integer
          format: int64
          example: 418385
      - name: version
        in: path
        description: Version of API <br> The default version is 1.0
        required: true
        style: simple
        explode: false
        schema:
          type: string
          example: "1.0"
          default: "1.0"
      - name: Authorization
        in: header
        description: Access token to securely access the Notifi APIs. To generate the access token, refer to <a href="?type=post&path=/openbanking/api/v{version}/token" title="Click to open">Generate Token</a> API. <br><br> <b>Note:</b> Access token should be inserted in "Bearer<space>{access token value}" format.
        required: false
        style: simple
        explode: false
        schema:
          type: string
          example: Bearer eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoiSm9lIENvZGVyIn0.5dlp7GmziL2QS06sZgK4mtaqv0_xX4oFUuTDh1zHK4U
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples:
                Sample Banking:
                  $ref: '#/components/examples/GetUserExampleRs'
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "404":
          description: Not Found
        "502":
          description: Server Error
        "504":
          description: Server Error
      x-group-name: Users
      x-proxy-name: Get User
      x-child-product-name: Notifications and Preferences
    put:
      tags:
      - Users
      summary: Update User.
      description: "Modifies the details of a user enrolled with the Notifi Alert service. <br> <b>Notes:</b><br>\n  -  Fields which do not require modification should be omitted<br>\n  -  Delivery details of only SMS and Email endpoints can be modified<br>\n  -  New subscriptions can be added, and existing subscriptions can be modified<br>\n\nFor more information about the Notifications and Preferences domain <a href=\"../docs/?path=docs/fintechs/notifi.md\" title=\"Click to open\">click here.</a>  <br><br> <i>This API is applicable only for the Notifi product provided by Fiserv</i> <br><br> <b>Relates to:</b>\n  <ul> \n    <li><a href=\"../docs/?path=docs/banks-and-CU/cash-mgt.md\">Cash Management</a></li>\n    <li><a href=\"../docs/?path=docs/banks-and-CU/treasury-services.md\">Treasury Services</a></li>\n  </ul>"
      operationId: UpdateUser
      parameters:
      - name: userId
        in: path
        description: Identifier of user whose details are to be updated
        required: true
        style: simple
        explode: false
        schema:
          type: integer
          format: int64
          example: 418385
      - name: version
        in: path
        description: Version of API <br> The default version is 1.0
        required: true
        style: simple
        explode: false
        schema:
          type: string
          example: "1.0"
          default: "1.0"
      - name: Authorization
        in: header
        description: Access token to securely access the Notifi APIs. To generate the access token, refer to <a href="?type=post&path=/openbanking/api/v{version}/token" title="Click to open">Generate Token</a> API. <br><br> <b>Note:</b> Access token should be inserted in "Bearer<space>{access token value}" format.
        required: false
        style: simple
        explode: false
        schema:
          type: string
          example: Bearer eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoiSm9lIENvZGVyIn0.5dlp7GmziL2QS06sZgK4mtaqv0_xX4oFUuTDh1zHK4U
      requestBody:
        description: The updated user enrollment data
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
            examples:
              Sample Banking:
                $ref: '#/components/examples/UpdateUserExampleRq'
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                uniqueItems: false
                type: array
                items:
                  $ref: '#/components/schemas/User'
              examples:
                Sample Banking:
                  $ref: '#/components/examples/UpdateUserExampleRs'
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "404":
          description: Not Found
        "502":
          description: Server Error
        "504":
          description: Server Error
      x-group-name: Users
      x-proxy-name: Update User
      x-child-product-name: Notifications and Preferences
    delete:
      tags:
      - Users
      summary: Delete User.
      description: "Deletes a user record enrolled to Notifi API service. <br> For more information about the Notifications and Preferences domain <a href=\"../docs/?path=docs/fintechs/notifi.md\" title=\"Click to open\">click here.</a> <br> <b>Note:</b> API testing for this API is currently not available. However, you can still view the sample response payload by clicking the <b>Response Schema</b> tab below. <br><br> <i>This API is applicable only for the Notifi product provided by Fiserv</i> <br><br> <b>Relates to:</b>\n  <ul> \n    <li><a href=\"../docs/?path=docs/banks-and-CU/cash-mgt.md\">Cash Management</a></li>\n    <li><a href=\"../docs/?path=docs/banks-and-CU/treasury-services.md\">Treasury Services</a></li>\n  </ul>"
      operationId: Delete
      parameters:
      - name: userId
        in: path
        description: Identifier for user enrolled with Notifi Alerts service
        required: true
        style: simple
        explode: false
        schema:
          type: integer
          format: int64
          example: 418379
      - name: version
        in: path
        description: Version of API <br> The default version is 1.0
        required: true
        style: simple
        explode: false
        schema:
          type: string
          example: "1.0"
          default: "1.0"
      - name: Authorization
        in: header
        description: Access token to securely access the Notifi APIs. To generate the access token, refer to <a href="?type=post&path=/openbanking/api/v{version}/token" title="Click to open">Generate Token</a> API. <br><br> <b>Note:</b> Access token should be inserted in "Bearer<space>{access token value}" format.
        required: false
        style: simple
        explode: false
        schema:
          type: string
          example: Bearer eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoiSm9lIENvZGVyIn0.5dlp7GmziL2QS06sZgK4mtaqv0_xX4oFUuTDh1zHK4U
      responses:
        "204":
          description: Success
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "404":
          description: Not Found
        "502":
          description: Server Error
        "504":
          description: Server Error
      x-group-name: Users
      x-proxy-name: Delete User
      x-child-product-name: Notifications and Preferences
  /openbanking/api/v{version}/users/search:
    post:
      tags:
      - Users
      summary: Search User.
      description: "Retrieves a user record enrolled with the Notifi Alerts service using UserID and user properties. <br> For more information about the Notifications and Preferences domain <a href=\"../docs/?path=docs/fintechs/notifi.md\" title=\"Click to open\">click here.</a>  <br><br> <i>This API is applicable only for the Notifi product provided by Fiserv</i> <br><br> <b>Relates to:</b>\n  <ul> \n    <li><a href=\"../docs/?path=docs/banks-and-CU/cash-mgt.md\">Cash Management</a></li>\n    <li><a href=\"../docs/?path=docs/banks-and-CU/treasury-services.md\">Treasury Services</a></li>\n  </ul>"
      operationId: SearchUser
      parameters:
      - name: version
        in: path
        description: Version of API <br> The default version is 1.0
        required: true
        style: simple
        explode: false
        schema:
          type: string
          example: "1.0"
          default: "1.0"
      - name: Authorization
        in: header
        description: Access token to securely access the Notifi APIs. To generate the access token, refer to <a href="?type=post&path=/openbanking/api/v{version}/token" title="Click to open">Generate Token</a> API. <br><br> <b>Note:</b> Access token should be inserted in "Bearer<space>{access token value}" format.
        required: false
        style: simple
        explode: false
        schema:
          type: string
          example: Bearer eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoiSm9lIENvZGVyIn0.5dlp7GmziL2QS06sZgK4mtaqv0_xX4oFUuTDh1zHK4U
      requestBody:
        description: The user details to search by.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
            examples:
              Sample Banking:
                $ref: '#/components/examples/SearchUserExampleRq'
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                uniqueItems: false
                type: array
                items:
                  $ref: '#/components/schemas/User'
              examples:
                Sample Banking:
                  $ref: '#/components/examples/SearchUserExampleRs'
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "404":
          description: Not Found
        "502":
          description: Server Error
        "504":
          description: Server Error
      x-group-name: Users
      x-proxy-name: Search User
      x-child-product-name: Notifications and Preferences
  /openbanking/api/v{version}/users:
    post:
      tags:
      - Users
      summary: Add User.
      description: "Creates a new user record to send the alerts. Endpoints can be configured during user enrollment which by default, will be in activated and enabled state.<br> For more information about the Notifications and Preferences domain <a href=\"../docs/?path=docs/fintechs/notifi.md\" title=\"Click to open\">click here.</a>  <br><br> <i>This API is applicable only for the Notifi product provided by Fiserv</i> <br><br> <b>Relates to:</b>\n  <ul> \n    <li><a href=\"../docs/?path=docs/banks-and-CU/cash-mgt.md\">Cash Management</a></li>\n    <li><a href=\"../docs/?path=docs/banks-and-CU/treasury-services.md\">Treasury Services</a></li>\n  </ul>"
      operationId: CreateUser
      parameters:
      - name: version
        in: path
        description: Version of API <br> The default version is 1.0
        required: true
        style: simple
        explode: false
        schema:
          type: string
          example: "1.0"
          default: "1.0"
      - name: Authorization
        in: header
        description: Access token to securely access the Notifi APIs. To generate the access token, refer to <a href="?type=post&path=/openbanking/api/v{version}/token" title="Click to open">Generate Token</a> API. <br><br> <b>Note:</b> Access token should be inserted in "Bearer {access token value}" format.
        required: false
        style: simple
        explode: false
        schema:
          type: string
          example: Bearer eyJhbGciOiJIUzI1NiJ9.eyJuYW1lIjoiSm9lIENvZGVyIn0.5dlp7GmziL2QS06sZgK4mtaqv0_xX4oFUuTDh1zHK4U
      requestBody:
        description: The user to be enrolled.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
            examples:
              Sample Banking:
                $ref: '#/components/examples/CreateUserExampleRq'
      responses:
        "201":
          description: Success
          content:
            application/json:
              schema:
                uniqueItems: false
                type: array
                items:
                  $ref: '#/components/schemas/User'
              examples:
                Sample Banking:
                  $ref: '#/components/examples/CreateUserExampleRs'
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "404":
          description: Not Found
        "502":
          description: Server Error
        "504":
          description: Server Error
      x-group-name: Users
      x-proxy-name: Add User
      x-child-product-name: Notifications and Preferences
components:
  schemas:
    History:
      type: object
      properties:
        alerts:
          uniqueItems: false
          type: array
          description: List of alerts delivered to a user
          items:
            $ref: '#/components/schemas/Alert'
      description: History of alerts delivered to a user for the requested date range
    Alert:
      type: object
      properties:
        userId:
          type: integer
          description: Unique identification number of a user enrolled to Notifi
          format: int64
          example: 418555
        subscriptionId:
          type: integer
          description: Identification number of user subscription
          format: int64
          example: 802772
        tenantId:
          type: integer
          description: Identification number of a tenant to which the user is associated
          format: int64
          example: 11888
        organizationId:
          type: string
          description: Unique identification of the organization to which the tenant belongs
          example: NewFz1888
        payloadId:
          type: string
          description: Payload identifier that triggered the alert
          example: 99752c51-d062-4956-b742-6db6c91fa873
        alertType:
          type: string
          description: "Type of the generated alert. <br> Some of the valid values are: \n  <table><thead><td>Value</td><td>Description</td></thead><tbody><tr><td>DEBITTRANS</td><td>Debit transaction was posted</td></tr><tr><td>TXNGREATERTHAN</td><td>Transaction over threshold amount</td></tr><tr><td>BELOWBALTHRESH</td><td>Account balance below threshold</td></tr><tr><td>DEPOSITTRANS</td><td>Credit transaction was posted</td></tr><tr><td>DEPOSITPOSTED</td><td>Deposit was credited to an account</td></tbody></table>"
          example: BELOWBALTHRESH
        description:
          type: string
          description: Description of the alert type
        timeZone:
          type: string
          description: Time zone of the user. <br> <b>Note:</b>  Default time zone is set for all the users associated to a particular tenant as per the tenant’s location. However, different time zone can be configured for a particular user.
          example: Eastern Standard Time
        endpointType:
          type: string
          description: |-
            Type of endpoint activated for a user. <br> Valid values are:
              -  Push
              -  SMS
              -  Email
          example: Email
        emailAddress:
          type: string
          description: Email address to which the alert is delivered
          example: john.doe@example.com
        phoneNumber:
          type: string
          description: Phone number to which the alert is delivered
        device:
          $ref: '#/components/schemas/Device'
        message:
          type: string
          description: Message delivered to the user in an alert. <br> <b>Note:</b> If endpoint is set to Email, then message is delivered in HTML format.
        deliveredDate:
          type: string
          description: Date on which the alert was delivered to user in the configured time zone.
          format: date-time
        deliveryStatus:
          type: string
          description: Status of the alert triggered to a user
          example: Success
      description: List of alerts delivered to a user
    Device:
      type: object
      properties:
        appId:
          type: string
          description: Identifier of an application that received the push notification
        deviceId:
          type: string
          description: Unique identification of the device
        deviceType:
          type: string
          description: |-
            Type of the device. <br> Valid values are:
              - GCM (Android device)
              - APNS (iOS device)
          example: APNS
        deviceName:
          type: string
          description: Name of this device
          example: Apple iPhone 12
      description: Device details of a user to which the push notification is delivered
    Tenant:
      type: object
      properties:
        tenantId:
          type: integer
          description: Identification number of a tenant
          format: int64
          example: 1234
        organizationId:
          type: string
          description: Unique identification of the organization to which the tenant belongs
        name:
          type: string
          description: Configured name of this tenant
          example: Tenant FI
        timeZone:
          type: string
          description: 'Time zone of the tenant. '
          example: Eastern Standard Time
        shortCode:
          type: string
          description: Code used to send domestic SMS alerts to the users
          example: "80248"
        internationalShortCode:
          type: string
          description: Code used to send international SMS alerts to the users
          example: "447537431347"
        emailFrom:
          type: string
          description: Email address that is used to send the alerts to the users <br> <b>Note:</b> This email ID refers to No-reply email.
        activationCodeDurationInMinutes:
          type: integer
          description: Duration in minutes until which the activation code remains usable <br> The default value is 60 minutes
          format: int32
          example: 60
        enabled:
          type: boolean
          description: Flag to indicate whether the tenant is enabled for the subscription of Notifi
        alertTypes:
          uniqueItems: false
          type: array
          description: Type of alerts associated with the tenant <br> <b>Note:</b> Alert Types is configured to the tenant at the time of onboarding.
          items:
            $ref: '#/components/schemas/AlertType'
        endpointTypes:
          uniqueItems: false
          type: array
          description: Type of endpoints associated with the tenant
          items:
            $ref: '#/components/schemas/EndpointType'
      description: Details of tenant integrated with the Notifi Alerts service
    AlertType:
      type: object
      properties:
        name:
          type: string
          description: "Type of the generated alert. <br> Some of the valid values are: \n  <table><thead><td>Value</td><td>Description</td></thead><tbody><tr><td>DEBITTRANS</td><td>Debit transaction was posted</td></tr><tr><td>TXNGREATERTHAN</td><td>Transaction over threshold amount</td></tr><tr><td>BELOWBALTHRESH</td><td>Account balance below threshold</td></tr><tr><td>DEPOSITTRANS</td><td>Credit transaction was posted</td></tr><tr><td>DEPOSITPOSTED</td><td>Deposit was credited to an account</td></tbody></table>"
          example: DEPOSITTRANS
        description:
          type: string
          description: Description of the alert type
        category:
          type: string
          description: |-
            Category for which the alert is associated. <br> Some of the valid values are:
              -  Transaction
              -  Security
              -  ATM/Debit Card
          example: Security
        accountLevel:
          type: boolean
          description: Flag to indicate if the alert activity is configured to the user account
        thresholdNeeded:
          type: boolean
          description: Flag to indicate if the threshold value is configured on the balance of funds in user account
        enabled:
          type: boolean
          description: Flag to indicate if the alert type is enabled
        endpointTypes:
          uniqueItems: false
          type: array
          description: Type of endpoints associated with the tenant
          items:
            $ref: '#/components/schemas/EndpointType'
    EndpointType:
      type: object
      properties:
        name:
          type: string
          description: "Name of the endpoint type. <br>\n  Valid values are:\n  -  Email\n  -  SMS\n  -  Push          "
          example: Email
        enabled:
          type: boolean
          description: Flag to indicate if the endpoint type is enable
      description: An endpoint type
    Token:
      type: object
      properties:
        clientId:
          type: string
          description: Identification number of a client
          example: newclientFI
        scopedOrganizationId:
          type: string
          description: Identification of the organization to which the token is scoped
          example: NewFz1888
        scopedTenantId:
          type: integer
          description: Identification of the tenant to which the token is scoped
          format: int64
          example: 11888
        originatingTenantId:
          type: integer
          description: Identifier of tenant associated to the organization
          format: int64
          example: 23546
        accessToken:
          type: string
          description: Generated access token
        expiry:
          type: string
          description: Date and time after which the token expires. <br> <b>Note:</b> The default token expiration time is set to 60 mins. However, this value can be changed.
          format: date-time
          example: 2021-11-19T16:20:32.0643595Z
      description: Token details returned in response to the request for access of Notifi Alerts service
    User:
      type: object
      properties:
        userId:
          type: integer
          description: Unique identification number of a user enrolled in Notifi
          format: int64
          example: 418555
        tenantId:
          type: integer
          description: Identifier of tenant to which a user is associated
          format: int64
          example: 11888
        organizationId:
          type: string
          description: Unique identification of the organization to which the tenant belongs
          example: NewFz1888
        bankingUserId:
          type: string
          description: Bank identification number to search a user with search feature
          example: Bankx1
        eventUserId:
          type: string
          description: Unique identifier of a user in calling application. <br> <br> <b>Note:</b> This id is used to match data (EventUserId with AccessId) during the event triggering process, for example, CustomerName/CIFKey.
          example: Event1777
        relationship:
          type: string
          description: |-
            Relationship identifier to search a user with search feature.<br> Some of the valid values are:
              -  Business
              -  Retail
          example: retail
        timeZone:
          type: string
          description: Time zone of the user. <br> The default time zone is set for all the users associated to a particular tenant as per the tenant’s location. However, different time zone can be configured for a particular user.
          example: Eastern Standard Time
        enabled:
          type: boolean
          description: Flag to indicate whether the user is active
        endpoints:
          uniqueItems: false
          type: array
          description: Endpoints activated for a user to receive alerts
          items:
            $ref: '#/components/schemas/Endpoint'
        subscriptions:
          uniqueItems: false
          type: array
          description: Subscription details associated with the user
          items:
            $ref: '#/components/schemas/Subscription'
      description: Details of the user enrolled in Notifi
    Endpoint:
      type: object
      properties:
        endpointId:
          type: integer
          description: Identification number used to identify the endpoint activated for a user
          format: int64
          example: 277265
        userId:
          type: integer
          description: Identifier of user who owns the endpoints
          format: int64
          example: 418555
        endpointType:
          type: string
          description: |-
            Type of activated endpoint where service is accessed by the user. Some of the valid values are:
              -  Push
              -  SMS
              -  Email
          example: Email
        emailAddress:
          type: string
          description: Email address of a user if the endpoint is set to Email
        phoneNumber:
          type: string
          description: Phone number of a user if the endpoint is set to SMS
        region:
          type: string
          description: Regional location of the phone number
        device:
          $ref: '#/components/schemas/Device'
        enabled:
          type: boolean
          description: Flag to indicate whether the endpoint is enabled.
        activated:
          type: boolean
          description: Indicates if the endpoint activation process is completed
        registered:
          type: boolean
          description: Indicates if the endpoint registration process is completed
        deleted:
          type: boolean
          description: Indication if the user has deleted the endpoint.
      description: Endpoints activated for a user to receive alerts
    Subscription:
      type: object
      properties:
        subscriptionId:
          type: integer
          description: Identification number of user subscription
          format: int64
        userId:
          type: integer
          description: Identification number of a user who owns the subscription
          format: int64
        alertType:
          type: string
          description: Type of alert to which the user is subscribed
        accountNumber:
          type: string
          description: Account number of a user associated with the subscription
        accountType:
          type: string
          description: Type of a user account
        partyId:
          type: string
          description: Identification number of a party associated with the subscription
        threshold:
          type: string
          description: Threshold value set on balance of funds in user account
        enabled:
          type: boolean
          description: Flag to indication whether the subscription is enabled
        deleted:
          type: boolean
          description: Flag to indicate whether the subscription is deleted
        endpoints:
          uniqueItems: false
          type: array
          description: Unique identifiers of endpoints associated to the subscription <br> <b>Note:</b> Only activated endpoints are added to a subscription and every subscription should have at least one activated endpoint.
          example:
          - 270147
          items:
            type: integer
            format: int64
      description: Subscription details associated with the user
  examples:
    GetHistoryExampleRs:
      value:
        alerts:
        - userId: 418379
          subscriptionId: 800922
          tenantId: 11991
          organizationId: EventPublisher1808
          payloadId: 65297c51-d061-4956-b742-6db6c91fa873
          alertType: ABOVEBALTHRESH
          description: Auto Test
          timeZone: Eastern Standard Time
          endpointType: Email
          emailAddress: shurong.manning@fiserv.com
          message: Transaction Date Nov/19/2021. Transaction Amount. Your account 0501 balance recently exceeded the threshold you set of $10.00. Your balance on Nov 19, 2021 is $1,500.00 Thank you for your business! Sincerely, Your FiservTeam
          deliveredDate: 2021-11-19T10:20:41.991+0000
          deliveryStatus: Success
    GetTenantExampleRs:
      value:
        tenantId: 39
        organizationId: OrgAllTypes
        name: TenantAllTypes
        timeZone: Eastern Standard Time
        shortCode: "80248"
        internationalShortCode: "447537431347"
        emailFrom: notifitestAPI@fiserv.com
        activationCodeDurationInMinutes: 60
        enabled: true
        alertTypes:
        - name: BELOWBALTHRESH
          description: Auto Test
          category: Balance
          accountLevel: true
          thresholdNeeded: true
          enabled: true
          endpointTypes:
          - name: Email
            enabled: true
          - name: SMS
            enabled: true
          - name: Push
            enabled: true
          - name: SecuredInbox
            enabled: true
        endpointTypes:
        - name: Email
          enabled: true
        - name: SMS
          enabled: true
        - name: Push
          enabled: true
        - name: SecuredInbox
          enabled: true
    GetTokenExampleRs:
      value:
        clientId: autoclientsuper
        scopedOrganizationId: OrgAllTypes
        scopedTenantId: 39
        originatingTenantId: 39
        accessToken: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJjbGllbnRfaWQiOiJhdXRvY2xpZW50c3VwZXIiLCJvcmdhbml6YXRpb24iOiJPcmdBbGxUeXBlcyIsInVzZXIiOiJPcGVuQmFua2luZyIsInBlcm1pc3Npb24iOlsidGVuYW50LndyaXRlX2FsbCIsInN1YnRlbmFudC53cml0ZV9hbGwiLCJyb2xlLnN1cGVydmlzb3IiLCJzdXBlcnVzZXIiXSwidGVuYW50IjoiMzkiLCJzc28iOiJ0cnVlIiwiaG9zdF9hZGRyZXNzIjoiMTAuMzEuMjE4LjMzLCAxMC4zMS4xMDkuNTkiLCJ1c2VyX2FwcGxpY2F0aW9uIjoiY3VzdG9tZXJfbWFuYWdlciIsInNlc3Npb25fZXhwaXJ5IjoiMTUiLCJtZmEiOlsicmVxdWlyZWQiLCJlbmFibGVkIiwidmFsaWRhdGVkIl0sIm9yaWdpbmF0aW5ndGVuYW50IjoiMzkiLCJpc3MiOiJodHRwczovL3Jlc3QtdWF0LWFsZXJ0aHViLmFwcHMuZm9nLm9uZWZpc2Vydi5uZXQvYXBpL3Jlc291cmNlcyIsImF1ZCI6Imh0dHBzOi8vcmVzdC11YXQtYWxlcnRodWIuYXBwcy5mb2cub25lZmlzZXJ2Lm5ldC9hcGkvcmVzb3VyY2VzL3Jlc291cmNlcyIsImV4cCI6MTYzNzMzODgzMywibmJmIjoxNjM3MzM1MjMzfQ.fO4FjnfixjJwdIDMMHY2NXNMCSZ9bFZYOi27eHlBnAE_O5v6T3imoM7mBfI402LaD1MvQ1KSVsfONMjSUdS85HnY9z-0QXNKlxyhh4Qwq0Rd0xL1RUuwqwQgcvV05rwH6ZvYKVVbTdl7hlau6oTd6kOrGd-kBKaH8HL9pvU-WPmbIE9ZJThFCgfRWhKSvs2WIunF5N7mU4YBXOK3Og9CjasV9-0HKWB4jVV8IKqlRgSeDeKQWqiFOxISDwYrQhmxgqBcJXr-rY8VsBIJ2-SscGrxlukptLm4EFuDqIsh_inSt_XK8qa7yLSq50A_Sapr2uSfghJq5ARBOS_9KKZj2w
        expiry: 2021-11-19T16:20:32.064+0000
    GetUserExampleRs:
      value:
        userId: 418385
        tenantId: 39
        organizationId: NewFz1888
        bankingUserId: Bankx1
        eventUserId: Event1777
        relationship: Retail
        timeZone: Eastern Standard Time
        enabled: true
        endpoints: []
        subscriptions: []
    UpdateUserExampleRq:
      value:
        userId: 418386
        tenantId: 39
        organizationId: OrgAllTypes
        bankingUserId: anythinggoes
        eventUserId: anythinggoes1
        relationship: Retail
        timeZone: Eastern Standard Time
        enabled: true
        endpoints:
        - endpointId: 270147
          userId: 418386
          endpointType: Email
          emailAddress: shurong.manning@fiserv.com
          enabled: true
          activated: true
          registered: true
          deleted: false
        subscriptions:
        - subscriptionId: 0
          userId: 418386
          alertType: FEES
          accountNumber: "12345"
          accountType: DDA
          threshold: "10"
          enabled: true
          deleted: false
          endpoints:
          - 270147
    UpdateUserExampleRs:
      value:
      - userId: 418386
        tenantId: 39
        organizationId: OrgAllTypes
        bankingUserId: anythinggoes
        eventUserId: anythinggoes1
        relationship: Retail
        timeZone: Eastern Standard Time
        enabled: true
        endpoints:
        - endpointId: 270147
          userId: 418386
          endpointType: Email
          emailAddress: shurong.manning@fiserv.com
          enabled: true
          activated: true
          registered: true
        subscriptions:
        - subscriptionId: 800923
          userId: 418386
          alertType: FEES
          accountNumber: "12345"
          accountType: DDA
          threshold: "10"
          enabled: true
          endpoints:
          - 270147
    SearchUserExampleRq:
      value:
        userId: 418380
        tenantId: 39
        organizationId: OrgAllTypes
        bankingUserId: anythinggoes
        eventUserId: anythinggoes1
        relationship: Retail
        timeZone: Eastern Standard Time
        enabled: true
        endpoints: []
        subscriptions: []
    SearchUserExampleRs:
      value:
      - userId: 418555
        tenantId: 39
        organizationId: OrgAllTypes
        bankingUserId: anythinggoes
        eventUserId: anythinggoes1
        relationship: Retail
        timeZone: Eastern Standard Time
        enabled: true
        endpoints: []
        subscriptions: []
      - userId: 418555
        tenantId: 39
        organizationId: OrgAllTypes
        bankingUserId: anythinggoes
        eventUserId: anythinggoes1
        relationship: Retail
        timeZone: Eastern Standard Time
        enabled: true
        endpoints: []
        subscriptions: []
    CreateUserExampleRq:
      value:
        userId: 0
        tenantId: 39
        organizationId: OrgAllTypes
        bankingUserId: anythinggoes
        eventUserId: anythinggoes1
        relationship: Retail
        timeZone: Eastern Standard Time
        enabled: true
        endpoints:
        - endpointId: 0
          userId: 0
          endpointType: Email
          emailAddress: shurong.manning@fiserv.com
          enabled: true
          activated: true
          registered: false
          deleted: false
        subscriptions: []
    CreateUserExampleRs:
      value:
      - userId: 418381
        tenantId: 39
        organizationId: OrgAllTypes
        bankingUserId: anythinggoes
        eventUserId: anythinggoes1
        relationship: Retail
        timeZone: Eastern Standard Time
        enabled: true
        endpoints:
        - endpointId: 277265
          userId: 418555
          endpointType: Email
          emailAddress: shurong.manning@fiserv.com
          enabled: true
          activated: true
          registered: true
        subscriptions: []
